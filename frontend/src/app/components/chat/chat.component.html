<div class="chat" [ngClass]="{ 'zeroing': !showChat }">
  <button type="button" class="show-toggle"  (click)="toggleShow()">
    <mat-icon class="show-toggle__icon" [appIconSize]="'24px'">
      @if (showChat) {
      chevron_right
      } @else {
      chevron_left
      }
    </mat-icon>
  </button>
  <h3 class="chat__title" [ngClass]="{ 'd-none': !showChat }">Chat</h3>
  <div class="chat__content" [ngClass]="{ 'd-none': !showChat }">
    <div *ngFor="let message of messages"
      [ngClass]="message.senderId === userId && message.senderId !== '' ? 'message-container--my' : 'message-container'">
      <div class="message-container__header">
        <h4><i>{{ message.senderName || "Unknown"}}</i></h4>
        <p>{{ message.date | date : "short" }}</p>
      </div>
      <div class="message-container__body">
        <p>{{ message.text }}</p>
      </div>
    </div>
  </div>
  <form [ngClass]="{ 'd-none': !showChat }" class="chat__footer" [formGroup]="msgData" (ngSubmit)="onSubmit()">
    <textarea name="msg-input" id="msg-input" rows="1" class="input input--message" formControlName="msg"></textarea>

    <button [disabled]="!msgData.valid || !msgData.controls['msg'].value.trim()" type="submit"
      class="btn btn--invert btn--message">
      <mat-icon [appIconSize]="'24px'">arrow_forward</mat-icon>
    </button>
  </form>
</div>